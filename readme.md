# Build

## Dependencies

On linux (X11) you will need `xorg-dev` package installed.

ALso ffmpeg libraries must be installed (`avcodec`, `avformat`, `avutil`, `swscale`). `PkgConfig` should figure out how to find them, but you also have an option to hint the paths explicitly like this: `-DLIBAV_INCLUDE=/path/to/headers -DLIBAV_LIB=/path/to/libs`.

## Script

```zsh
git clone --recursive https://github.com/poppyfanboy/Learn-OpenGL.git
cd Learn-OpenGL
mkdir build

# Optionally add `-G Ninja` for better performance if you have it installed.
# Also you can try using LLD linker by appending `-DCMAKE_EXE_LINKER_FLAGS=-fuse-ld=lld`.
# The project uses some of the C++20 library features, so you might need to upgrade to GCC 10.
cmake \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_C_COMPILER=gcc-10 \
    -DCMAKE_CXX_COMPILER=g++-10 \
    -DBUILD_TESTS=OFF \
    -H. -B./build

# Optionally add `-j %processing units count%` flag.
cmake --build ./build --config Release --target all

# Paths are hardcoded (for now) and they are relative to the root directory of the repository,
# so you should run everything from the project root directory like this:
./build/projects/Learn-OpenGL/Learn-OpenGL
./build/projects/Fragment-Shader-Rendering/Fragment-Shader-Rendering

# Videos generated by the fragment shader renderer are saved at
# `./projects/Fragment-Shader-Rendering/out/`

# Use special clean target to remove built files:
cmake --build ./build --config Release --target clean
```
